<!DOCTYPE html>
<html>
  <head>
    <title>Listing 7.7 from the 1st Ed.</title>
    <meta charset="utf-8" />
    <script src="../shared/assert.js"></script>
    <link rel="stylesheet" type="text/css" href="../styles/assert.css" />
  </head>
  <body>
    <p>Displays syntax for backreferencing captures in the pattern and in String.replace() as well.</p>
    <p></p>
    <br/>
    <br/>
    <p></p>
    <ul id="info"></ul>
    <script type="text/javascript">
      var html = "<b class='hello'>Hello</b> <i>world!</i>";
      var paragraphs = document.getElementsByTagName("p");
      paragraphs[1].innerText = html;

      // The global RegExp that matches the entire tag and contains a backreference.
      var tag = /<(\w+)([^>]*?)>(.*?)<\/\1>/g, match;

      match = tag.exec(html);
      assert(match[0] == "<b class='hello'>Hello</b>", "The entire tag, start to finish.");
      assert(match[1] == "b", "The tag name.");
      assert(match[2] == " class='hello'", "The tag attributes.");
      assert(match[3] == "Hello", "The contents of the tag.");

      match = tag.exec(html);
      assert(match[0] == "<i>world!</i>", "The entire tag, start to finish.");
      assert(match[1] == "i", "The tag name.");
      assert(match[2] == "", "The tag attributes.");
      assert(match[3] == "world!", "The contents of the tag.");

      var camelCase = "borderBottomWidth";
      paragraphs[2].innerHTML = camelCase;
      assert(camelCase.replace(/([A-Z])/g, "-$1").toLowerCase() == "border-bottom-width", "Converting the camelCase into dashed notation.");
    </script>
  </body>
</html>
